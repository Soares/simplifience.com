@import '_colors'

theme-body(color, complement)
	background $pure(color)
	color $text(color)
	::selection
		background-color $pale(color)
		color $text(color)
	#main-container
		border-color $dark(color)

theme-header(color, complement)
	h1 a
		color $text(color)
		&:visited, &:active, &:hover
			color $text(color)
	.definition
		color $contrast(color)
		li
			color $text(color)
	.pronunciation
		color $dark(color)

theme-links(color, complement)
	&:active
		color $dark(color)
	&.stub, &.stub:visited
		color $pure(complement)
		&.missing
			background $pure(complement)
			color $pure(color)

theme-nav(color, complement)
	h3
		color $pure(complement)
	aside.info a
		color $text(color)
		text-decoration none
		&:visited
			color $contrast(color)
		&:hover
			text-decoration underline

theme-notice(color, complement)
	color $pure(color)

theme-commentary(color, complement, analog)
	background $pure(color)
	border-color $dark(color)
	color $text(color)
	::selection
		background-color $text(color)
		color $pure(color)
	h1, h2, h3, h4, h5, h6
		color $contrast(color, complement)
	.MathJax span
		color $text(color)
	a
		color $pure(analog)
		&:hover
			color $pure(analog)
		&:visited, &:visited:hover
			.MathJax span
				color $text(color)
			color $text(color)
		&.stub, &.stub:visited, &.stub:hover
			color $pure(complement)
			&.missing
				background $pure(complement)
				color $pure(color)

theme-footer(color, complement)
	h1.logo a, a.author, a.blog
		color $dark(color)
	aside
		h3
			color $pure(complement)
			text-shadow 1px 1px 1px $dark(color, complement)
		li
			color $contrast(color)
		a
			color $text(color)
			text-decoration none
			&:visited
				color $contrast(color)
			&:hover
				text-decoration underline
			&.stub, &.stub:visited
				color $pure(complement)

theme-meditation(color, complement)
	#meditating
		background-color white
	#main form.meditate
		background-color white
	#main p a.meditation, #main form.meditate button.proceed
		background $pure(color)
		border-color $dark(color)
		color $text(color)
		&:hover
			background $dark(color)
			border-color $pure(color)
			color $contrast(color)
		&:active
			border-color $pure(color)
			color $pure(color)
	#main form.meditate
		textarea
			border-color #EEE
		textarea, button
			&:focus
				outline-color $pure(color)

theme-diagram(color, complement)
	.colored
		stroke $dark(color)
	.colored:not(.line)
		fill $light(color)
	.colored.line
		fill None
	path.solid
		fill $dark(color)
	path.axis
		stroke #555555
	path.axis.arrow
		fill #555555

theme(class, color, complement, analog)
	body.{class}
		theme-body(color, complement)
		theme-meditation(color, complement)
		#header
			theme-header(color, complement)
		#main a
			theme-links(color, complement, analog)
		#main hr
			border-color $dark(color)
		#main div.nav
			theme-nav(color, complement)
		footer
			theme-footer(color, complement)
		#main svg
			theme-diagram(color, complement)
	body #main aside.{class}, body.{class} #main aside.info,
	body #main div.{class}, body.{class} div.info
		theme-commentary(color, complement, analog)
	body span.{class}, body.{class} span.info,
	body strong.{class}, body.{class} strong.info,
	body em.{class}, body.{class} em.info
		theme-notice(color, complement)

main = $teal
complement = $orange

// Color themes
theme('main', $teal, $orange, $blue)
theme('rules', $blue, $gold, $teal)
theme('rigor', $navy, $amber, $teal)
theme('simplifience', $violet, $gold, $magenta)
theme('knowledge', $magenta, $gold, $violet)
theme('rant', $red, $gold, $violet)
theme('stub', $orange, $teal, $blue)
theme('caution', $yellow, $navy, $blue)
theme('define', $green, $violet, $blue)
theme('computer', $solarized, $solarized-hi, $teal)

// Red logo is white.
body.rant #header h1.title a
	color white


// Yellow text is too light.
body span.caution, body.caution span.info,
body strong.caution, body.caution strong.info,
body em.caution, body.caution em.info
	color $dark($yellow)


// Blue text is too dark.
body span.rules, body.rules span.info,
body strong.rules, body.rules strong.info,
body em.rules, body.rules em.info
	color $light($blue)

// Computer text is monospaced.
body span.computer, body.computer span.info,
body strong.computer, body.computer strong.info,
body em.computer, body.computer em.info
body #main aside.computer, body.computer #main aside.info,
body #main div.computer, body.computer div.info,
body.computer #header .definition,
body.computer #main article > p a
	font-family 'PT Mono', monospace

// Computer stubs are red.
body.computer #main article > p a
	color $pale($solarized-hi)
	&.stub
		color $pure($solarized-hi)

// Computer text shadow is gray.
body #main aside.computer, html body.computer #main aside.info,
body #main div.computer, html body.computer div.info
	a
		text-shadow 1px 1px 1px $pure($solarized)

// Definitions have a line break after the first <em>.
aside.define
	em:first-of-type:after
		content "\a"
		white-space pre
